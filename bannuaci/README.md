# 興化平話字輸入方案 Báⁿ-uā-ci̍ Input Method

興化平話字（Hing-hua Báⁿ-uā-ci̍），又稱興化羅馬字、平話字，是19世紀末基督教傳教士為莆田話創造的羅馬字書寫系統。

## 歷史背景

興化平話字由美國美以美會（衛理公會）傳教士 Willard Livingstone Beard（蒲魯士，1865-1944）於1890年代創制，用於翻譯聖經和教會出版品。平話字曾是莆田地區重要的書寫系統，有：

- **完整聖經譯本**：新舊約全書
- **教會刊物**：《興化聖教報》等
- **宗教書籍**：讚美詩、教理問答等

平話字基於19世紀末莆田城區口音，與閩南的白話字（Pe̍h-ōe-jī）、福州的平話字（Bàng-uâ-cê）系統相近。

## 文字特點

### 拼寫原則

1. **音素文字**：一字一音，一音一符
2. **聲調標記**：使用變音符號標記七個聲調
3. **連字符**：多音節詞用 `-` 連接（如 `Báⁿ-uā-ci̍` 平話字）
4. **大小寫**：首字母可大寫（句首、專有名詞等）

### 音韻系統

基於19世紀末莆田城區口音：

- **聲母**：15個（b, p, m, d, t, n, l, g, k, ng, h, c, ch, s, 零聲母）
- **韻母**：約60個
- **聲調**：7個（陰平、陽平、上聲、陰去、陽去、陰入、陽入）

## 輸入方案說明

本專案提供兩種輸入方案：

### 1. borhlang_bannuaci（純平話字模式）

**用途**：輸入純平話字文本

**顯示方式**：
```
候選項：Báⁿ-uā-ci̍  (平話字)
        平話字      (漢字註釋)
```

**適用場景**：
- 編寫平話字文章
- 平話字教學材料
- 保存莆仙語口語記錄

### 2. borhlang_bannuaci_han（漢字模式）

**用途**：用平話字拼音輸入漢字

**顯示方式**：
```
候選項：平話字      (漢字)
        Báⁿ-uā-ci̍  (平話字註釋)
```

**適用場景**：
- 學習興化平話字拼寫
- 輸入莆仙語漢字
- 查詢漢字的平話字讀音

## 輸入規則詳解

### 特殊字元輸入對照表

興化平話字有幾個特殊字元，可用 ASCII 字母組合輸入：

| 特殊字元 | Unicode | 便捷輸入 | 說明 |
|---------|---------|---------|------|
| a̤ | U+0061 U+0324 | `aa`, `ar` | a 加下雙點 |
| e̤ | U+0065 U+0324 | `ee`, `er`, `oe` | e 加下雙點 |
| o̤ | U+006F U+0324 | `oo`, `or` | o 加下雙點 |
| ṳ | U+1E73 | `uu`, `ur`, `y` | u 加下點 |
| ⁿ | U+207F | `nn` | 上標 n（鼻化標記）|

### 聲調標記規則

聲調標記加在元音字母上，具體位置根據韻母而定：

| 韻母 | 標調位置 | 範例 |
|-----|---------|------|
| a | 第1個字元 | á, â, a̍, ā |
| ai | 第1個字元 | ái, âi, a̍i, āi |
| a̤ | 第1個字元 | á̤, â̤, a̤̍, ā̤ |
| ia | 第2個字元 | iá, iâ, ia̍, iā |
| iu | 第2個字元 | iú, iû, iu̍, iū |
| io̤ | 第2個字元 | ió̤, iô̤, io̤̍, iō̤ |

**注意**：輸入時可省略聲調，輸入法會自動匹配所有可能的聲調。

### 入聲韻尾

入聲（第6、7調）韻尾用 `h` 表示：

- 第6調（陰入）：`ah`, `ih`, `uh` 等（或用 macron：`āh`, `īh`, `ūh`）
- 第7調（陽入）：`a̍h`, `i̍h`, `u̍h` 等

## 範例文本

### 主禱文（Chṳ̂ Dô-bûng）

```
Guāng ê Dāi-diâ, dó̤ chēng-de̤ng ê,
Nguôⁿ nguâng nâng chéng nṳ̄ng ê mîng uê si̍ng.
Nguôⁿ nguâng nṳ̄ng ê guók lái kau.
Nguôⁿ nguâng nṳ̄ng ê di chī de̤ dē-dā̤ng,
chîng-chék chēng-de̤ng.
Guāng gīng-ngi̍h ê lióng-si̍h cē-ngi̍h sṳ̍ng guāng.
Siá guāng ê choi,
chîng-chék guāng siá biéh náng ê choi.
Mài děng guāng dá ciù-ī,
ka guāng kiu chhṳ̀ dô̤ dô̤h hē.
Īng-uê guók keh̤ kióng-le̤h keh̤ ge̤ng-de̤ng
chhêng-uâng sī nṳ̄ng ê dó̤ bāng-sa̤.
A-mêng.
```

### 常用詞彙

| 平話字 | 漢字 | 意思 |
|-------|------|------|
| Pó-tiáⁿ | 莆田 | 莆田（地名）|
| Hing-hua | 興化 | 興化（古地名）|
| Báⁿ-uā-ci̍ | 平話字 | 平話字 |
| Dā̤ng-kì | 電氣 | 電 |
| Hĭng-do̤h | 學堂 | 學校 |
| Si̍h-bōiⁿ | 食飯 | 吃飯 |
| Chṳ̂-bī | 字尾 | 字典 |

## 詞庫來源

本方案的詞庫來自以下資料：

1. **維基詞典莆仙語資料**（cpx-pron-data.lua）
   - 11,000+ 漢字的興化平話字讀音
   - 資料來源：[Wiktionary:莆仙語](https://zh.wiktionary.org/)

2. **莆仙話拼音詞庫**（自動轉換）
   - 23,000+ 詞條從莆仙話拼音詞庫自動轉換
   - 原始來源：[hinghwa-ime](https://github.com/e-dialect/hinghwa-ime)

### 轉換過程

詞庫轉換考慮了以下語音現象：

1. **聲母類化**：反推詞中非詞首音節的原始聲母
2. **一對多轉換**：處理莆仙話拼音與平話字的一對多對應
3. **字典驗證**：對照維基詞典資料驗證轉換結果

詳細轉換記錄見 `conversion_log.txt`。

## 技術細節

### Schema 檔案

- **borhlang_bannuaci.schema.yaml**：主方案（純平話字輸出）
- **borhlang_bannuaci_han.schema.yaml**：漢字輸出方案

### 詞典檔案

- **borhlang_bannuaci.dict.yaml**：主詞典（23,000+ 詞條）

### Speller 設定

```yaml
alphabet: zyxwvutsrqponmlkjihgfedcba
delimiter: " '-"
algebra:
  # 支援無聲調輸入
  - derive/[́̂̍̄]//g
  # 特殊字元便捷輸入
  - derive/a̤/aa/
  - derive/e̤/ee/
  # ... (詳見 schema 檔案)
```

## 學習資源

### 線上資源

- [維基百科：興化平話字](https://zh.wikipedia.org/wiki/興化平話字)
- [莆仙語維基詞典](https://zh.wiktionary.org/wiki/Category:莆仙語)

### 歷史文獻

- 《新舊約全書》興化平話字版（1912-1936）
- 《興化聖教報》（1896-1950）
- 《Báⁿ-uā Sèng-si》（平話聖詩，1896）

## 貢獻方式

歡迎協助改善興化平話字詞庫：

1. **修正讀音**：提供更準確的平話字拼寫
2. **補充詞彙**：增加缺失的詞條
3. **校對轉換**：檢查自動轉換的正確性
4. **文件改善**：補充使用說明和範例

## 相關專案

- [hinghwa-ime](https://github.com/e-dialect/hinghwa-ime)：莆仙話拼音輸入法
- [Wiktionary](https://zh.wiktionary.org/)：維基詞典莆仙語資料
- [Rime](https://rime.im/)：中州韻輸入法引擎

---

**注意事項**：

1. 本輸入方案基於歷史文獻和現代語音資料，可能與個別使用者的口音有差異
2. 詞庫轉換為自動化流程，部分詞條可能需要人工校對
3. 興化平話字的標準化仍在發展中，某些拼寫可能有多種寫法

如有任何問題或建議，歡迎在 [GitHub Issues](../../issues) 提出。
